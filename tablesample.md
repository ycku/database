# TABLESAMPLE

本文要探討的問題是：**「從資料庫得到想要的結果，一定要計算完所有資料嗎？」**

這個問題的關鍵點在於，你是否知道所謂想要的結果是什麼？  
我們時常抱怨資料庫處理的速度太慢，尤其在資料量不斷增加的發展下，對時間的要求卻只有更嚴格。具體來說，如果你想知道過去一個月內在系統記錄中，CPU 的平均負載情況如何？要求是每分鐘回報一次。而很不幸地，測試結果每 100 萬筆資料，需要 80 秒的運算時間，而組織要求的系統記錄筆數越來越多。

在硬體資源不變的條件下，我們有兩個選擇，一個是對於查詢演算法鑽牛角尖，更聰明地精確計算每一個數字；另一個是本文要說明的方案，採用大量抽樣的方式，控制固定的運算量，只要能夠控制誤差就好了。

